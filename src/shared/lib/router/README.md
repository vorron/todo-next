# Router System

üéØ **–ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ —Å –∏–¥–µ–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π**

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
router/
‚îú‚îÄ‚îÄ data.ts              # üóÇÔ∏è  –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (–¥–∞–Ω–Ω—ã–µ)
‚îú‚îÄ‚îÄ config-types.ts      # üìù TypeScript —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ generators.ts        # ‚öôÔ∏è  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç
‚îú‚îÄ‚îÄ config.ts           # üîÑ Legacy compatibility layer
‚îú‚îÄ‚îÄ utils.ts            # üõ†Ô∏è  –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ guards.ts           # üõ°Ô∏è  Guards –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ types.ts            # üîß –û–±—â–∏–µ —Ç–∏–ø—ã
‚îú‚îÄ‚îÄ validation.ts       # ‚úÖ Runtime –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îî‚îÄ‚îÄ index.ts            # üì§ –ü—É–±–ª–∏—á–Ω—ã–π API
```

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã

### ‚úÖ Single Responsibility

- `data.ts` - —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `generators.ts` - —Ç–æ–ª—å–∫–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Ç–∏–ª–∏—Ç
- `utils.ts` - —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –ª–æ–≥–∏–∫–∞

### ‚úÖ Separation of Concerns

- –î–∞–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª–µ–Ω—ã –æ—Ç –ª–æ–≥–∏–∫–∏
- –¢–∏–ø–∏–∑–∞—Ü–∏—è –æ—Ç–¥–µ–ª–µ–Ω–∞ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- UI –∑–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π

### ‚úÖ DRY Principle

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—É—Ç–µ–π, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö, –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ guards –∏ —É—Ç–∏–ª–∏—Ç—ã
- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã

## üöÄ Usage

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { ROUTES, paths, dynamicPaths } from '@/shared/lib/router';

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
ROUTES.HOME; // '/'
ROUTES.TODOS; // '/todos'

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
dynamicPaths.todoDetail('123'); // '/todos/123'
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import {
  mainNavigation,
  isProtectedPath,
  headerTemplates,
  validateRouteConfig,
} from '@/shared/lib/router';

// –§–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
const nav = mainNavigation.filter((item) => !item.hideWhenAuthenticated);

// Guards
if (isProtectedPath(path)) {
  // redirect to login
}

// –í–∞–ª–∏–¥–∞—Ü–∏—è
const validation = validateRouteConfig();
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞

```typescript
// –í data.ts –¥–æ–±–∞–≤–∏—Ç—å:
newRoute: {
  path: '/new-route' as const,
  protected: true,
  metadata: { title: 'New Route' } satisfies Metadata,
  navigation: {
    label: 'New Route',
    order: 5,
    hideWhenAuthenticated?: boolean, // –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  },
  header: {
    type: 'static' as const,
    descriptor: { title: 'New Route', breadcrumbs: [...] }
  },
} satisfies RouteConfig,
```

### –ü–æ—Ä—è–¥–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

- 0-9: –û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- 10-19: –í—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- 20-29: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

## üé® Features

### ‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

- `paths` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
- `dynamicPaths` - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
- `navigationConfig` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `mainNavigation` - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `metadataConfig` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `protectedPatterns` - regex patterns –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

### üõ°Ô∏è Guards

- `isPublicPath()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `isProtectedPath()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `requiresAuth()` - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è

- Runtime –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ development
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –ø—É—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ—Ä—è–¥–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

### üéØ –¢–∏–ø–∏–∑–∞—Ü–∏—è

- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –∏–∑ –¥–∞–Ω–Ω—ã—Ö
- `Strict*` —Ç–∏–ø—ã –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üîÑ Migration

–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `config.ts` –∫–∞–∫ compatibility layer.

## üìà Best Practices

1. **–ò–∑–º–µ–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ `data.ts`** –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `order` —Å–≤–æ–π—Å—Ç–≤–æ** –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `hideWhenAuthenticated`** –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **–°–ª–µ–¥—É–π—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º order** –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
5. **–í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ –≤ development** —Å –ø–æ–º–æ—â—å—é `validateConfigInDev()`

---

üéâ **–ò–¥–µ–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é!**
